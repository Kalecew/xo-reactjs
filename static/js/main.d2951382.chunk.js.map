{"version":3,"sources":["square.js","board.js","move.js","img/bg.jpg","game.js","index.js"],"names":["Square","value","click","className","onClick","Board","renderSquare","i","props","squares","this","winner","currentStep","lastStep","line","Component","createRecord","currentPlayer","Move","jumpTo","href","e","Game","state","gameOver","isNextX","history","Array","fill","lines","calculateWinner","length","a","b","c","createStatus","indexOf","createNewHistory","result","from","newSquares","push","squareIsLock","gameIsOver","setState","newHistory","calculateIsNextX","step","preventDefault","reset","calculateLine","renderMoves","map","item","status","style","backgroundImage","bg","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.d2951382.chunk.js","sourcesContent":["const Square = ({value, click}) => (\r\n  <button className={\r\n      value === '✘'?\r\n        'square square--x-blur' : \r\n        value === '𝓞'?\r\n          'square square--o-blur' :\r\n          'square'\r\n    }  \r\n    onClick={() => click()}\r\n  >\r\n    {value}\r\n  </button>\r\n)\r\n\r\nexport default Square","import {Component} from 'react'\r\nimport Square from './square'\r\n\r\nexport default class Board extends Component {\r\n  \r\n  renderSquare = (i) => {\r\n    const {squares, click} = this.props \r\n    return <Square value={squares[i]} click={() => click(i)}/>\r\n  }\r\n\r\n  render() {\r\n    const {winner,currentStep,lastStep,line} = this.props\r\n    return (\r\n      <div className={\r\n          winner && currentStep === lastStep ? \r\n          \"game__board board board--win board--win-\"+line :\r\n          \"game__board board\"\r\n        }\r\n      >\r\n        {this.renderSquare(0)}\r\n        {this.renderSquare(1)}\r\n        {this.renderSquare(2)}\r\n        {this.renderSquare(3)}\r\n        {this.renderSquare(4)}\r\n        {this.renderSquare(5)}\r\n        {this.renderSquare(6)}\r\n        {this.renderSquare(7)}\r\n        {this.renderSquare(8)}\r\n      </div>\r\n    );\r\n  }\r\n}","const createRecord = (i) => {\r\n\tconst currentPlayer = i%2 !== 0 ? '✘' : '𝓞'\r\n\treturn i ? `Move #${i} - ${currentPlayer}` : 'Game start'\r\n}\r\nconst Move = ({i,jumpTo,currentStep}) => (\r\n\t<li className=\"moves__item\"\tkey={i}>\r\n\t\t<a href=\"#\" className={ i === currentStep ? \r\n\t\t\"moves__link moves__link--active\" :\r\n\t\t\"moves__link\" \r\n\t\t} \r\n\t\tonClick={(e) => jumpTo(i,e)}>{createRecord(i)}</a>\r\n\t</li> \r\n)\r\nexport default Move","export default __webpack_public_path__ + \"static/media/bg.b446155c.jpg\";","import {Component} from 'react'\r\nimport Board from './board'\r\nimport Move from './move'\r\nimport bg from './img/bg.jpg'\r\n\r\nexport default class Game extends Component {\r\n  state = {\r\n    gameOver: false,\r\n    isNextX: true,\r\n    currentStep: 0,\r\n    lastStep: 0,\r\n    winner: null,\r\n    history: [\r\n      {squares: Array(9).fill(null)}\r\n    ]\r\n  }\r\n\r\n  lines = [\r\n    [0,1,2],\r\n    [3,4,5],\r\n    [6,7,8],\r\n    [0,3,6],\r\n    [1,4,7],\r\n    [2,5,8],\r\n    [0,4,8],\r\n    [2,4,6]\r\n  ]\r\n\r\n  calculateWinner = (squares) => {\r\n    for (var i = 0; i < this.lines.length; i++) {\r\n      const [a,b,c] = this.lines[i]\r\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]){\r\n        return squares[a]\r\n      }     \r\n    }\r\n    return null\r\n  }\r\n\r\n  createStatus = () => {\r\n    const {isNextX,gameOver,lastStep,history,winner} = this.state\r\n    const squares = history[lastStep].squares\r\n    if (winner)\r\n      return 'Winner: ' + winner\r\n    else if (gameOver && squares.indexOf(null) === -1) \r\n      return 'Game over'\r\n    else \r\n      return 'Next player: ' + (isNextX ? '✘' : '𝓞')\r\n  }\r\n\r\n  createNewHistory = (i) => {\r\n    const {isNextX,lastStep,history} = this.state\r\n    const result = Array.from(history)\r\n    const newSquares = Array.from(result[lastStep].squares)\r\n    newSquares[i] = isNextX ? '✘' : '𝓞'\r\n    result.push({squares: newSquares})\r\n    return result\r\n  }\r\n\r\n  squareIsLock = (squares, i) => {\r\n    if(this.state.gameOver || this.state.winner || squares[i]) return true\r\n    return false\r\n  }\r\n\r\n  gameIsOver = (squares) => {\r\n    let winner\r\n    if (winner = this.calculateWinner(squares)) \r\n      this.setState({gameOver: true, winner})\r\n    if (squares.indexOf(null) === -1)\r\n      this.setState({gameOver: true})\r\n  }\r\n\r\n  click = (i) => {\r\n    const {isNextX,lastStep,history} = this.state\r\n    this.setState({currentStep: lastStep})\r\n    const squares = history[lastStep].squares\r\n    if (this.squareIsLock(squares,i)) {\r\n      return false  \r\n    } else {\r\n      const newHistory = this.createNewHistory(i)\r\n      this.setState({\r\n        isNextX: !isNextX,\r\n        currentStep: lastStep + 1,\r\n        lastStep: lastStep + 1,\r\n        history: newHistory\r\n      })\r\n      const newSquares = newHistory[lastStep + 1].squares\r\n      this.gameIsOver(newSquares, i)\r\n    }     \r\n  }  \r\n\r\n  calculateIsNextX = (step) => (step % 2) ? false : true\r\n\r\n  jumpTo = (i,e) => {\r\n    e.preventDefault()\r\n    this.setState({\r\n      currentStep: i\r\n    })\r\n  }\r\n\r\n  reset = () => this.setState({\r\n    gameOver: false,\r\n    isNextX: true,\r\n    currentStep: 0,\r\n    lastStep: 0,\r\n    winner: null,\r\n    history: [\r\n      {squares: Array(9).fill(null)}\r\n    ]\r\n  })\r\n\r\n  calculateLine = () => {\r\n    const {history,lastStep} = this.state\r\n    const squares = history[lastStep].squares\r\n    for (var i = 0; i < this.lines.length; i++) {\r\n      const [a,b,c] = this.lines[i]\r\n      if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]){\r\n        return i + 1\r\n      }     \r\n    }\r\n    return null\r\n  }\r\n\r\n  renderMoves = (currentStep) => \r\n    this.state.history.map((item, i) => \r\n      <Move key={i} i={i} currentStep={currentStep} jumpTo={this.jumpTo}/>\r\n    )\r\n\r\n  render() {\r\n    const {currentStep,lastStep,history,winner} = this.state\r\n    const squares = history[currentStep].squares\r\n    const status = this.createStatus()\r\n    const line = this.calculateLine()\r\n    \r\n    return (\r\n      <div className=\"game\" style={{ backgroundImage:`url(${bg})`}}>\r\n        <div className=\"game__content\">\r\n          <div className=\"game__status\">{status}</div>            \r\n          <div className=\"game__moves moves\">\r\n            <ul className=\"moves__list\">{this.renderMoves(currentStep)}</ul>\r\n          </div>            \r\n          <Board squares={squares} winner={winner} currentStep={currentStep} lastStep={lastStep} line={line} click={(i) => this.click(i)}/>      \r\n          <button className=\"game__reset\" onClick={() => this.reset()}>↺</button>        \r\n        </div>                 \r\n      </div>\r\n    )\r\n  }\r\n}","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './styles/index.css'\r\nimport Game from './game'\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <Game />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}